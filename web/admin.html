<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>관리자 인증 - Playground V3</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="card admin-container">
        <h3>관리자 승인 센터</h3>
        
        <div id="admin-login-box">
            <input id="admin-key-input" type="password" placeholder="관리자 보안 키" 
                   onkeyup="if(window.event.keyCode==13){loadAdminRequests()}">
            <button class="btn-primary" onclick="loadAdminRequests()">접속</button>
        </div>

        <div id="pending-list-area" class="hidden">
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr><th>아이디</th><th>닉네임</th><th>요청타입</th><th>승인/거절</th></tr>
                    </thead>
                    <tbody id="admin-user-list"></tbody>
                </table>
            </div>

            <div style="background:#fff; border:2px solid #eee; padding:20px; border-radius:15px; margin-top:30px; text-align:left;">
                <h4 style="margin-top:0; color:#1877f2;"><i class="fas fa-paper-plane"></i> 우편 발송 센터</h4>
                
                <label style="font-size:12px; font-weight:bold; color:#555;">받는 사람</label>
                <select id="mail-receiver" style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:8px;">
                    <option value="">유저 목록 로딩 중...</option>
                </select>

                <input id="mail-title" type="text" placeholder="우편 제목" style="margin-bottom:10px;">

                <textarea id="mail-content" placeholder="내용을 입력하세요..." 
                    style="width:100%; height:80px; padding:10px; border:1px solid #ddd; border-radius:8px; box-sizing:border-box; resize:none; margin-bottom:10px;"></textarea>

                <label style="font-size:12px; font-weight:bold; color:#555;">예약 발송 (비워두면 즉시 전송)</label>
                <input id="mail-scheduled" type="datetime-local" style="width:100%; margin-bottom:15px;">

                <button class="btn-primary" onclick="sendAdminMail()">우편 보내기</button>
            </div>
            
            <div style="background:#f1f3f5; padding:20px; border-radius:15px; margin-top:30px;">
                <h4 style="margin-top:0;">🔓 온라인 DB Browser 접속</h4>
                <input id="db-master-key-input" type="password" placeholder="2차 마스터 보안 키"
                       onkeyup="if(window.event.keyCode==13){goToDBManager()}">
                <button class="btn-primary" onclick="goToDBManager()">마스터 모드 진입</button>
            </div>
        </div>
        
        <button class="btn-admin" onclick="location.href='index.html'">나가기</button>
    </div>
    
    <script src="js/admin.js"></script>
</body>
</html>