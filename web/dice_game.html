<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Defense - Playground V3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/auth.js"></script>
    <style>
        /* ν”λ«νΌ κ³ μ μ μ–΄λ‘μ΄ ν…λ§ λ³΄κ°• */
        body { background-color: #0f172a; color: #f8fafc; }
        .game-card { background: rgba(30, 41, 59, 0.7); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1rem; }
        .tab-active { color: #facc15; border-bottom: 3px solid #facc15; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <header class="w-full bg-slate-900 border-b border-slate-800 px-6 py-4 flex justify-between items-center shadow-lg sticky top-0 z-50">
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.href='home.html'">
            <span class="text-2xl">π²</span>
            <h1 class="text-xl font-black tracking-tighter text-white">DICE <span class="text-yellow-400">DEFENSE</span></h1>
        </div>
        <div class="flex items-center gap-4">
            <div class="hidden md:flex flex-col items-end">
                <span id="user-nickname" class="text-sm font-bold text-slate-200">Loading...</span>
                <span class="text-[10px] text-slate-500 uppercase tracking-widest">Player Profile</span>
            </div>
            <button onclick="GameApp.exitGame()" class="bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/50 px-4 py-1.5 rounded-full text-xs font-bold transition-all">
                EXIT
            </button>
        </div>
    </header>

    <main class="flex-1 w-full max-w-7xl mx-auto p-4 md:p-6 flex flex-col gap-6">
        
        <nav class="flex justify-around md:justify-start md:gap-12 border-b border-slate-800 text-sm font-bold">
            <button onclick="GameApp.switchTab('play')" class="nav-btn py-4 px-2 tab-active" data-target="view-play">BATTLE</button>
            <button onclick="GameApp.switchTab('deck')" class="nav-btn py-4 px-2 text-slate-500 hover:text-slate-300" data-target="view-deck">DECK & UPGRADE</button>
            <button onclick="GameApp.switchTab('shop')" class="nav-btn py-4 px-2 text-slate-500 hover:text-slate-300" data-target="view-shop">SHOP</button>
            <button onclick="GameApp.switchTab('social')" class="nav-btn py-4 px-2 text-slate-500 hover:text-slate-300" data-target="view-social">SOCIAL</button>
        </nav>

        <div class="relative flex-1">
            <section id="view-play" class="game-view grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="game-card p-8 flex flex-col items-center justify-center text-center gap-4 hover:scale-[1.01] transition-transform">
                    <div class="w-20 h-20 bg-yellow-400/20 rounded-full flex items-center justify-center text-4xl mb-2">β”οΈ</div>
                    <h2 class="text-2xl font-bold">λ€μ „ λ¨λ“</h2>
                    <p class="text-slate-400 text-sm mb-4">μ‹¤μ‹κ°„ μ μ €λ“¤κ³Ό μ‹¤λ ¥μ„ κ²¨λ£¨κ³ <br>λ­ν‚Ή ν¬μΈνΈλ¥Ό νλ“ν•μ„Έμ”.</p>
                    <button id="btn-start-pvp" class="w-full max-w-xs bg-yellow-400 hover:bg-yellow-500 text-slate-900 font-black py-4 rounded-xl shadow-[0_0_20px_rgba(250,204,21,0.3)] transition-all">
                        PVP START
                    </button>
                </div>

                <div class="game-card p-8 flex flex-col items-center justify-center text-center gap-4 hover:scale-[1.01] transition-transform">
                    <div class="w-20 h-20 bg-blue-400/20 rounded-full flex items-center justify-center text-4xl mb-2">π¤</div>
                    <h2 class="text-2xl font-bold">ν‘λ™ λ¨λ“</h2>
                    <p class="text-slate-400 text-sm mb-4">λ™λ£μ™€ νμ„ ν•©μ³ λ°€λ ¤μ¤λ”<br>μ λ“¤μ„ λκΉμ§€ λ§‰μ•„λ‚΄μ„Έμ”.</p>
                    <button id="btn-start-coop" class="w-full max-w-xs bg-blue-500 hover:bg-blue-600 text-white font-black py-4 rounded-xl shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all">
                        CO-OP START
                    </button>
                </div>
                
                <div id="game-canvas-container" class="fixed inset-0 bg-slate-950 hidden z-[60] flex flex-col">
                    <div class="bg-slate-900 p-4 flex justify-between items-center border-b border-slate-800">
                        <div class="flex gap-6 text-sm">
                            <span>WAVE <b id="game-wave" class="text-yellow-400">1</b></span>
                            <span>SP <b id="game-sp" class="text-blue-400">100</b></span>
                        </div>
                        <button onclick="GameApp.stopGameUI()" class="text-slate-500 hover:text-white text-xs underline">SURRENDER</button>
                    </div>
                    <div class="flex-1 flex items-center justify-center overflow-hidden">
                        <canvas id="gameCanvas" class="max-w-full max-h-full bg-slate-900 shadow-2xl"></canvas>
                    </div>
                    <div class="p-6 bg-slate-900/80 backdrop-blur-md flex justify-center gap-4">
                        <button onclick="GameApp.spawnDice()" class="w-24 h-20 bg-blue-600 hover:bg-blue-500 rounded-2xl font-bold border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all">
                            μ†ν™<br><span class="text-xs opacity-70">10 SP</span>
                        </button>
                    </div>
                </div>
            </section>

            <section id="view-deck" class="game-view hidden">
                <div class="game-card p-6 min-h-[400px]">
                    <h2 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span class="text-purple-400">β—</span> MY DECK CONFIG
                    </h2>
                    <div class="grid grid-cols-5 gap-4 mb-8">
                        <div class="aspect-square rounded-xl bg-slate-800/50 border-2 border-dashed border-slate-700"></div>
                        <div class="aspect-square rounded-xl bg-slate-800/50 border-2 border-dashed border-slate-700"></div>
                        <div class="aspect-square rounded-xl bg-slate-800/50 border-2 border-dashed border-slate-700"></div>
                        <div class="aspect-square rounded-xl bg-slate-800/50 border-2 border-dashed border-slate-700"></div>
                        <div class="aspect-square rounded-xl bg-slate-800/50 border-2 border-dashed border-slate-700"></div>
                    </div>
                    <p class="text-slate-500 text-center py-10">μ£Όμ‚¬μ„λ¥Ό λ“λκ·Έν•μ—¬ λ±μ„ κµ¬μ„±ν•μ„Έμ”.</p>
                </div>
            </section>

            <section id="view-shop" class="game-view hidden"> μƒμ  μ¤€λΉ„ μ¤‘... </section>
            <section id="view-social" class="game-view hidden"> μ†μ… μ¤€λΉ„ μ¤‘... </section>
        </div>
    </main>

    <script src="js/dice_game.js"></script>
</body>
</html>